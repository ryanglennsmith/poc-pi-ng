@if(globalAssignment){
<div class="alert alert-success mt-4" role="alert">
  Auto-assigned - Assigned to everyone currently in the school and will
  automatically include any new joiners in the future.
</div>
}
<div class="card">
  <div class="card-body d-flex">
    <div class="col-3 me-2">
      <input
        class="form-control"
        type="search"
        placeholder="Search people"
        aria-label="Search"
      />
    </div>
    <div class="">
      <select
        (change)="handleSelected($event)"
        class="form-select"
        id="selectPeople"
      >
        <option value="">Edit selected</option>
        <option value="add">Add</option>
        <option value="remove">Remove</option>
      </select>
      <!-- <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
        <li>
          <a class="dropdown-item" href="#" (click)="placeholder()">Add</a>
        </li>
        <li>
          <a class="dropdown-item" href="#" (click)="placeholder()">Remove</a>
        </li>
      </ul> -->
    </div>
    <div class="add-people text-end">
      <button type="button" class="btn btn-light" (click)="openAddModal()">
        Add people</button
      >&nbsp;&nbsp;
      <button type="button" class="btn btn-primary" (click)="placeholder()">
        Save and preview
      </button>
    </div>
  </div>
  <table class="table table-bordered people-table">
    <thead class="people-table-header table-light">
      <tr>
        <th scope="col">
          <div class="form-check">
            <input
              class="form-check-input float-none people-table-checkbox-add"
              type="checkbox"
              id="flexCheckDefault"
            />
            <label
              class="form-check-label visually-hidden"
              for="flexCheckDefault"
            >
              Global
            </label>
          </div>
        </th>
        <th scope="col">First name</th>
        <th scope="col">Last name</th>
        <th scope="col">Year</th>
        <th scope="col">Reg group</th>
        <th scope="col">Status</th>
      </tr>
    </thead>
    <tbody>
      @for (person of paginatedPeople[0]; track person.id){
      <tr>
        <td>
          <div class="form-check">
            <input
              class="form-check-input float-none people-table-checkbox"
              type="checkbox"
              id="flexCheckDefault"
              (change)="toggleSelected($event, person)"
            />
            <label
              class="form-check-label visually-hidden"
              for="flexCheckDefault"
            >
              selected
            </label>
          </div>
        </td>
        <td>{{ person.first_name }}</td>
        <td>{{ person.last_name }}</td>
        <td>{{ person.year_group }}</td>
        <td>{{ person.reg_group }}</td>
        <td>
          @if (person.status === 'added'){<span
            class="badge rounded-pill bg-success"
            >Added</span
          >} @else if (person.status === 'removed'){<span
            class="badge rounded-pill bg-danger"
            >Removed</span
          >}
        </td>
      </tr>
      }
    </tbody>
  </table>
  <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-end me-3">
      <li class="page-item disabled">
        <span class="page-link" tabIndex="-1" aria-disabled="true"> ← </span>
      </li>
      <li class="page-item">
        <span class="page-link">1</span>
      </li>
      <li class="page-item">
        <span class="page-link">2</span>
      </li>
      <li class="page-item">
        <span class="page-link">3</span>
      </li>
      <li class="page-item">
        <span class="page-link">→</span>
      </li>
    </ul>
  </nav>
</div>
